### 用例名称
上电自检

### 简要描述
伺服主控软件收到指令后进行自检。

### 参与者
1. 主执行者：机载光端机
2. 辅助执行者：陀螺仪、编码器、载荷

### 前置条件
1. 方位和俯仰处于0°

### 主流程
1. 收到机载光端机通过串口发送的自检指令。
2. 周期1ms采集编码器数据，得到当前俯仰角。
3. 设置目标俯仰角为30°
4. 执行角度控制用例
5. 设置目标俯仰角为-130度° 
6. 执行角度控制用例
7. 设置目标俯仰角为0度° 
8. 执行角度控制用例 
9. 伺服主控板工作状态设置为正常。
10. 获取载荷上报的外围设备的可见工作状态和红外工作状态，频率为50Hz。
11. 向机载光端机上报自检结果。

### 扩展流程
2a. 1ms未收到陀螺仪数据 
    2a1. 结束用例 
4a. 2秒后编码器数据未到达30° 
    4a1. 伺服主控板工作状态设置为外方位驱动标志字故障，跳转至主流程10。
6a. 13秒后编码器数据未到达-130° 
    6a1. 伺服主控板工作状态设置为外方位驱动标志字故障，跳转至主流程10。
8a. 2秒后编码器数据未到达0° 
    8a1. 伺服主控板工作状态设置为外方位驱动标志字故障，跳转至主流程10。
10a. 20ms未收到载荷数据。
    10a1. 可见工作状态和红外状态设置为故障，跳转至主流程14。

### 后置条件
1. 测试数据已完整采集并保存，可用于后续分析。

### 规则与约束
1.输出数据约束：
    1）自检结果数据帧包括主控板工作状态和载荷上报的外围设备状态。载荷上报的外围设备状态包括CCD正常/故障、图像板正常/故障、调光正常/故障、变倍正常/故障、调焦正常/故障、串口正常/故障；红外工作状态包括温度报警信号正常/异常、制冷状态制冷中/制冷完成、制冷机正常/异常、变倍正常/异常、调焦正常/异常、上/下电、串口通信正常/异常。